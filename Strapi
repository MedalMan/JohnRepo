const response = require('cfn-response');
const aws = require('aws-sdk');
const s3 = new aws.S3();

exports.handler = async (event, context) => {
  console.log('Received event:', JSON.stringify(event, null, 2));

  try {
    if (event.RequestType === 'Create' || event.RequestType === 'Update') {
      const rootDirectory = event.ResourceProperties.RootDirectory;
      // Do your custom logic here to use the rootDirectory value as needed.

      // Send a SUCCESS response back to CloudFormation.
      response.send(event, context, response.SUCCESS);
    } else if (event.RequestType === 'Delete') {
      // No need to do anything specific during stack deletion.
      response.send(event, context, response.SUCCESS);
    } else {
      // For unexpected RequestTypes, send a FAILED response.
      response.send(event, context, response.FAILED, {});
    }
  } catch (err) {
    console.log('Error:', err);
    // Send a FAILED response in case of an error.
    response.send(event, context, response.FAILED, {});
  }
};
